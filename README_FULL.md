# ğŸš’ é¦™æ¸¯æ¶ˆé˜²è™•æœå‹™å„€è¡¨æ¿ - å®Œæ•´ç¶²çµ¡ç‰ˆæœ¬

ä¸€å€‹å®Œæ•´å˜…Streamlitæ•¸æ“šå¯è¦–åŒ–æ‡‰ç”¨ï¼Œé¡¯ç¤ºé¦™æ¸¯æ¶ˆé˜²è™•æ•‘è­·ç«™å’Œæ¶ˆé˜²å±€æ•¸æ“šï¼Œæ”¯æŒå¾å…¶ä»–æ©Ÿå™¨è¨ªå•ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹è‰²

### ğŸ“Š å®Œæ•´æ•¸æ“šå¯è¦–åŒ–
- **äº¤äº’å¼åœ°åœ–** - é¡¯ç¤ºæ•‘è­·ç«™å’Œæ¶ˆé˜²å±€ä½ç½®
- **çµ±è¨ˆåœ–è¡¨** - åœ°å€åˆ†å¸ƒã€è¶¨å‹¢åˆ†æ
- **æ•¸æ“šè¡¨æ ¼** - è©³ç´°ä¿¡æ¯æŸ¥çœ‹
- **æœç´¢éæ¿¾** - æŒ‰åç¨±ã€åœ°å€ã€åœ°å€æœç´¢

### ğŸŒ ç¶²çµ¡è¨ªå•æ”¯æŒ
- **å±€åŸŸç¶²è¨ªå•** - åŒä¸€ç¶²çµ¡å…§å˜…å…¶ä»–è¨­å‚™
- **äº’è¯ç¶²è¨ªå•** - é€šéå…¬å…±IPè¨ªå•ï¼ˆéœ€ç«¯å£è½‰ç™¼ï¼‰
- **ç§»å‹•ç«¯å„ªåŒ–** - éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æŒæ‰‹æ©Ÿ
- **å¤šç‰ˆæœ¬é¸æ“‡** - è¶…ç°¡å–®ç‰ˆã€Streamlitç‰ˆã€å®Œæ•´ç‰ˆ

### ğŸ”§ ä¼æ¥­ç´šåŠŸèƒ½
- **æ•¸æ“šç·©å­˜** - æ¯å°æ™‚è‡ªå‹•æ›´æ–°
- **éŒ¯èª¤è™•ç†** - å®Œå–„çš„ç•°å¸¸è™•ç†
- **æ—¥èªŒè¨˜éŒ„** - é‹è¡Œç‹€æ…‹ç›£æ§
- **é…ç½®ç®¡ç†** - ç’°å¢ƒè®Šé‡é…ç½®

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. å•Ÿå‹•å®Œæ•´ç‰ˆæœ¬ï¼ˆæ¨è–¦ï¼‰
```bash
cd hk_fire_services_dashboard
./start_full.sh
```

### 2. è¨ªå•åœ°å€
```
æœ¬æ©Ÿè¨ªå•: http://localhost:8502
å±€åŸŸç¶²è¨ªå•: http://192.168.128.62:8502
äº’è¯ç¶²è¨ªå•: http://123.203.173.244:8502
```

### 3. æ‰‹æ©Ÿè¨ªå•
åœ¨æ‰‹æ©Ÿç€è¦½å™¨è¼¸å…¥ï¼š
```
http://192.168.128.62:8502
```

## ğŸ“¡ ç¶²çµ¡é…ç½®

### å±€åŸŸç¶²è¨ªå•
1. **ç¢ºä¿æ‰€æœ‰è¨­å‚™åœ¨åŒä¸€WiFi/ç¶²çµ¡**
2. **æŸ¥æ‰¾é›»è…¦IPåœ°å€**ï¼š
   ```bash
   hostname -I
   # æˆ–
   ip addr show | grep "inet " | grep -v "127.0.0.1"
   ```
3. **æ‰‹æ©Ÿç€è¦½å™¨è¨ªå•**ï¼š
   ```
   http://[é›»è…¦IPåœ°å€]:8502
   ```

### äº’è¯ç¶²è¨ªå•ï¼ˆéœ€è¦ç«¯å£è½‰ç™¼ï¼‰
1. **è·¯ç”±å™¨è¨­ç½®**ï¼š
   - å¤–éƒ¨ç«¯å£ï¼š8502
   - å…§éƒ¨IPï¼šé›»è…¦IPåœ°å€
   - å…§éƒ¨ç«¯å£ï¼š8502
   - å”è­°ï¼šTCP

2. **è¨ªå•åœ°å€**ï¼š
   ```
   http://[å…¬å…±IPåœ°å€]:8502
   ```

### é˜²ç«ç‰†é…ç½®
```bash
# Ubuntué˜²ç«ç‰†
sudo ufw allow 8502/tcp
sudo ufw reload

# æª¢æŸ¥ç«¯å£
sudo netstat -tulpn | grep :8502
```

## ğŸ–¥ï¸ å¯ç”¨ç‰ˆæœ¬

### 1. ğŸš€ è¶…ç°¡å–®ç‰ˆæœ¬ (ç«¯å£: 8000)
**ç‰¹é»**ï¼šé›¶ä¾è³´ï¼Œåªéœ€Python 3
```bash
python3 run_simple.py
```
**è¨ªå•**ï¼šhttp://localhost:8000

### 2. ğŸ¨ Streamlitå®Œæ•´ç‰ˆ (ç«¯å£: 8502)
**ç‰¹é»**ï¼šå®Œæ•´åŠŸèƒ½ï¼Œç¾ä»£åŒ–ç•Œé¢
```bash
./start_full.sh
```
**è¨ªå•**ï¼šhttp://localhost:8502

### 3. ğŸ“‹ çµ±ä¸€å…¥å£é é¢ (ç«¯å£: 9001)
**ç‰¹é»**ï¼šæœå‹™ç‹€æ…‹æª¢æŸ¥ï¼Œä½¿ç”¨èªªæ˜
```bash
python3 -m http.server 9001
```
**è¨ªå•**ï¼šhttp://localhost:9001

## ğŸ“Š æ•¸æ“šé¡¯ç¤º

### åœ°åœ–è¦–åœ–
- **æ•‘è­·ç«™** ğŸš‘ï¼ˆè—è‰²æ¨™è¨˜ï¼‰
- **æ¶ˆé˜²å±€** ğŸš’ï¼ˆç´…è‰²æ¨™è¨˜ï¼‰
- **é»æ“Šæ¨™è¨˜**æŸ¥çœ‹è©³ç´°ä¿¡æ¯
- **ç¸®æ”¾æ‹–å‹•**äº¤äº’æ“ä½œ

### çµ±è¨ˆé¢æ¿
```
æ•‘è­·ç«™ç¸½æ•¸: 45å€‹
æ¶ˆé˜²å±€ç¸½æ•¸: 95å€‹
åœ°å€åˆ†å¸ƒ: 18å€‹åœ°å€
æœ€å¾Œæ›´æ–°: 2026-02-22 02:45:22
```

### æ•¸æ“šè¡¨æ ¼
| é¡å‹ | åç¨± | åœ°å€ | åœ°å€ | é›»è©± | åæ¨™ |
|------|------|------|------|------|------|
| æ•‘è­·ç«™ | é¦™æ¸¯ä»”æ•‘è­·ç«™ | é¦™æ¸¯ä»”å—é¢¨é“1è™Ÿ | å—å€ | 2541 6644 | 22.250369, 114.173866 |
| æ¶ˆé˜²å±€ | é¦™æ¸¯ä»”æ¶ˆé˜²å±€ | é¦™æ¸¯é¦™æ¸¯ä»”å—é¢¨é“1è™Ÿ | å—å€ | 2552 5280 | 22.250369, 114.173866 |

## ğŸ”§ æŠ€è¡“æ¶æ§‹

### å¾Œç«¯æŠ€è¡“
- **Streamlit 1.28+** - ç¾ä»£åŒ–Webæ‡‰ç”¨æ¡†æ¶
- **Pandas 2.0+** - æ•¸æ“šè™•ç†å’Œåˆ†æ
- **GeoPandas 0.14+** - åœ°ç†ç©ºé–“æ•¸æ“šè™•ç†
- **Plotly 5.18+** - äº¤äº’å¼åœ–è¡¨
- **Folium 0.14+** - äº¤äº’å¼åœ°åœ–

### æ•¸æ“šæº
- **æ•‘è­·ç«™API**: `portal.csdi.gov.hk/.../AmbDepots`
- **æ¶ˆé˜²å±€API**: `portal.csdi.gov.hk/.../FireStations`

### ç¶²çµ¡é…ç½®
- **æœå‹™å™¨åœ°å€**: 0.0.0.0ï¼ˆå…è¨±æ‰€æœ‰IPï¼‰
- **æœå‹™å™¨ç«¯å£**: 8502ï¼ˆå¯é…ç½®ï¼‰
- **å”è­°**: HTTP/HTTPS
- **ç·©å­˜**: 1å°æ™‚è‡ªå‹•æ›´æ–°

## ğŸš¢ éƒ¨ç½²é¸é …

### 1. æœ¬åœ°é–‹ç™¼
```bash
# ä½¿ç”¨è™›æ“¬ç’°å¢ƒ
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
./start_full.sh
```

### 2. Dockeréƒ¨ç½²
```dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 8502
CMD ["streamlit", "run", "app.py", "--server.port=8502", "--server.address=0.0.0.0"]
```

### 3. é›²æœå‹™å™¨éƒ¨ç½²
```bash
# SSHåˆ°æœå‹™å™¨
ssh user@server

# ä¸‹è¼‰ä»£ç¢¼
git clone https://github.com/maxwoo-openclaw/hk-fire-services-dashboard.git
cd hk-fire-services-dashboard

# å®‰è£ä¾è³´
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# å¾Œå°é‹è¡Œ
nohup ./start_full.sh > dashboard.log 2>&1 &

# æŸ¥çœ‹æ—¥èªŒ
tail -f dashboard.log
```

### 4. Streamlit Cloudéƒ¨ç½²
1. ä¸Šå‚³åˆ°GitHub
2. è¨ªå• https://streamlit.io/cloud
3. é€£æ¥GitHubå€‰åº«
4. è¨­ç½®ä¸»æ–‡ä»¶ç‚º `app.py`
5. é»æ“Šéƒ¨ç½²

## ğŸ“± ç§»å‹•ç«¯å„ªåŒ–

### éŸ¿æ‡‰å¼è¨­è¨ˆ
- **è‡ªå‹•é©æ‡‰**æ‰‹æ©Ÿå±å¹•å¤§å°
- **è§¸æ‘¸å‹å¥½**çš„ç•Œé¢å…ƒç´ 
- **å¿«é€ŸåŠ è¼‰**å„ªåŒ–åœ–ç‰‡å’Œè³‡æº
- **é›¢ç·šç·©å­˜**éƒ¨åˆ†æ•¸æ“š

### æ‰‹æ©Ÿè¨ªå•æ­¥é©Ÿ
1. **ç¢ºä¿é›»è…¦å’Œæ‰‹æ©Ÿåœ¨åŒä¸€WiFi**
2. **æŸ¥æ‰¾é›»è…¦IPåœ°å€**
3. **æ‰‹æ©Ÿç€è¦½å™¨è¼¸å…¥**ï¼š
   ```
   http://[é›»è…¦IP]:8502
   ```
4. **æ·»åŠ åˆ°ä¸»å±å¹•**ï¼ˆå¯é¸ï¼‰

### äºŒç¶­ç¢¼è¨ªå•
```bash
# ç”ŸæˆäºŒç¶­ç¢¼ï¼ˆéœ€è¦qrencodeï¼‰
qrencode -t PNG -o qr.png "http://192.168.128.62:8502"

# é¡¯ç¤ºäºŒç¶­ç¢¼
display qr.png
```

## ğŸ”’ å®‰å…¨è€ƒæ…®

### æ•¸æ“šå®‰å…¨
- **APIæ•¸æ“š**å…¬é–‹å¯ç”¨ï¼Œç„¡æ•æ„Ÿä¿¡æ¯
- **HTTPSé€£æ¥**ç¢ºä¿å‚³è¼¸å®‰å…¨
- **è¼¸å…¥é©—è­‰**é˜²æ­¢æ³¨å…¥æ”»æ“Š
- **éŒ¯èª¤è™•ç†**ä¸æš´éœ²ç³»çµ±ä¿¡æ¯

### ç¶²çµ¡å®‰å…¨
- **é˜²ç«ç‰†é…ç½®**é™åˆ¶è¨ªå•
- **ç«¯å£ç®¡ç†**ä½¿ç”¨éæ¨™æº–ç«¯å£
- **æ—¥èªŒç›£æ§**è¨˜éŒ„è¨ªå•è¨˜éŒ„
- **å®šæœŸæ›´æ–°**ä¿®å¾©å®‰å…¨æ¼æ´

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

#### å•é¡Œ1ï¼šç„¡æ³•å¾å…¶ä»–æ©Ÿå™¨è¨ªå•
```bash
# æª¢æŸ¥æœå‹™æ˜¯å¦é‹è¡Œ
curl http://localhost:8502/_stcore/health

# æª¢æŸ¥é˜²ç«ç‰†
sudo ufw status
sudo ufw allow 8502/tcp

# æª¢æŸ¥ç«¯å£ç›£è½
sudo netstat -tulpn | grep :8502
```

#### å•é¡Œ2ï¼šStreamlitå•Ÿå‹•å¤±æ•—
```bash
# æª¢æŸ¥è™›æ“¬ç’°å¢ƒ
source venv/bin/activate
pip list | grep streamlit

# é‡æ–°å®‰è£ä¾è³´
pip install --upgrade -r requirements.txt

# æª¢æŸ¥Pythonç‰ˆæœ¬
python3 --version
```

#### å•é¡Œ3ï¼šæ•¸æ“šåŠ è¼‰å¤±æ•—
```bash
# æ¸¬è©¦APIé€£æ¥
python3 test_api.py

# æª¢æŸ¥ç¶²çµ¡é€£æ¥
curl -I "https://portal.csdi.gov.hk"

# æ¸…é™¤ç·©å­˜
rm -rf __pycache__ .streamlit/cache
```

### æ—¥èªŒæŸ¥çœ‹
```bash
# Streamlitæ—¥èªŒ
tail -f ~/.streamlit/logs/*.log

# æ‡‰ç”¨æ—¥èªŒ
tail -f dashboard.log

# ç³»çµ±æ—¥èªŒ
sudo journalctl -u streamlit-service
```

## ğŸ“ˆ æ€§èƒ½å„ªåŒ–

### ç·©å­˜ç­–ç•¥
- **æ•¸æ“šç·©å­˜**: 1å°æ™‚è‡ªå‹•æ›´æ–°
- **é é¢ç·©å­˜**: éœæ…‹è³‡æºç·©å­˜
- **æ•¸æ“šåº«ç·©å­˜**: æœ¬åœ°SQLiteå­˜å„²
- **CDNåŠ é€Ÿ**: åœ–ç‰‡å’Œè…³æœ¬åŠ é€Ÿ

### åŠ è¼‰å„ªåŒ–
- **æ‡¶åŠ è¼‰**: æŒ‰éœ€åŠ è¼‰æ•¸æ“š
- **å£“ç¸®**: Gzipå£“ç¸®éŸ¿æ‡‰
- **åˆä½µ**: CSS/JSæ–‡ä»¶åˆä½µ
- **ç·©å­˜**: ç€è¦½å™¨ç·©å­˜ç­–ç•¥

## ğŸ”„ æ›´æ–°ç¶­è­·

### è‡ªå‹•æ›´æ–°
```bash
# è¨­ç½®å®šæ™‚ä»»å‹™
crontab -e
# æ·»åŠ ä»¥ä¸‹è¡Œ
0 */6 * * * cd /path/to/dashboard && git pull && ./start_full.sh
```

### æ‰‹å‹•æ›´æ–°
```bash
# æ›´æ–°ä»£ç¢¼
git pull origin main

# æ›´æ–°ä¾è³´
pip install --upgrade -r requirements.txt

# é‡å•Ÿæœå‹™
pkill -f streamlit
./start_full.sh
```

### å‚™ä»½æ¢å¾©
```bash
# å‚™ä»½æ•¸æ“š
cp data/cache.db data/cache.db.backup

# æ¢å¾©æ•¸æ“š
cp data/cache.db.backup data/cache.db

# å‚™ä»½é…ç½®
cp .env .env.backup
```

## ğŸ¤ è²¢ç»æŒ‡å—

### é–‹ç™¼ç’°å¢ƒ
```bash
# å…‹éš†é …ç›®
git clone https://github.com/maxwoo-openclaw/hk-fire-services-dashboard.git
cd hk-fire-services-dashboard

# è¨­ç½®é–‹ç™¼ç’°å¢ƒ
python3 -m venv venv
source venv/bin/activate
pip install -r requirements-dev.txt

# é‹è¡Œæ¸¬è©¦
python3 test_api.py
pytest tests/
```

### ä»£ç¢¼è¦ç¯„
- **PEP 8** Pythonä»£ç¢¼é¢¨æ ¼
- **Black** ä»£ç¢¼æ ¼å¼åŒ–
- **Flake8** ä»£ç¢¼æª¢æŸ¥
- **MyPy** é¡å‹æª¢æŸ¥

### æäº¤æ›´æ”¹
1. Forké …ç›®
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‰µå»ºPull Request

## ğŸ“„ è¨±å¯è­‰

MIT License

## ğŸ“ è¯ç¹«æ”¯æŒ

- **GitHub Issues**: https://github.com/maxwoo-openclaw/hk-fire-services-dashboard/issues
- **é›»å­éƒµä»¶**: maxwoo1987@gmail.com
- **æ–‡æª”**: README_FULL.md

## ğŸ™ è‡´è¬

- é¦™æ¸¯æ”¿åºœåœ°ç†æ•¸æ“šå¹³å°
- Streamlité–‹ç™¼åœ˜éšŠ
- é–‹æºç¤¾å€è²¢ç»è€…
- æ‰€æœ‰æ¸¬è©¦ç”¨æˆ¶

---

**ç«‹å³é–‹å§‹ä½¿ç”¨ï¼š**
```bash
git clone https://github.com/maxwoo-openclaw/hk-fire-services-dashboard.git
cd hk-fire-services-dashboard
./start_full.sh
```

**è¨ªå•åœ°å€ï¼š**
- æœ¬æ©Ÿ: http://localhost:8502
- å±€åŸŸç¶²: http://[é›»è…¦IP]:8502
- æ‰‹æ©Ÿ: æƒæäºŒç¶­ç¢¼æˆ–è¼¸å…¥éˆæ¥